<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="description" content="艺航的个人网站，分享生活的点滴">
  <meta name="author" content="艺航">
  <meta name="keywords" content="博客,blog,hexo">
  <title>校园网Python一键登录脚本与基于其基础上的校园网自动登录（Windows/Andriod) - 艺航领域</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/mdbootstrap/4.13.0/css/mdb.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css" />

<link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">



  <link  rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css" />

<link  rel="stylesheet" href="/css/main.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />


<!-- 自定义样式保持在最底部 -->


<meta name="generator" content="Hexo 4.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>艺航领域</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">首页</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">归档</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">分类</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">标签</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">关于</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/snow-mountain.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
                <p class="mt-3 post-meta">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                  星期五, 五月 22日 2020, 4:49 下午
                </p>
              

              <p class="mt-1">
                
                  
                  <span class="post-meta">
                    <i class="far fa-chart-bar"></i>
                    2.1k 字
                  </span>
                

                
                  
                  <span class="post-meta">
                      <i class="far fa-clock"></i>
                      9 分钟
                  </span>
                

                
              </p>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5 z-depth-3" id="board">
          <div class="post-content mx-auto" id="post">
            
            <div class="markdown-body">
              <p>每次使用校园网都需要网页登录，十分麻烦。<br>以脚本代替操作。</p>
<p>参考：<br><a href="https://blog.csdn.net/shenhuaifeng/article/details/78333851" target="_blank" rel="noopener">python实现校园网自动登录-shenhuaifeng</a><br><a href="https://www.cnblogs.com/roadwide/p/10479723.html" target="_blank" rel="noopener">校园网开机自动登录-RodeWide</a><br><a href="https://www.zhihu.com/question/50249683/answer/120583718" target="_blank" rel="noopener">如何设置计划任务或者脚本才能使电脑在连接指定wifi后自动运行某程序？ - 蒋晟的回答 - 知乎</a><br><a href="https://www.zhihu.com/question/50249683/answer/950791896" target="_blank" rel="noopener">如何设置计划任务或者脚本才能使电脑在连接指定wifi后自动运行某程序？ - 笨笨侠的回答 - 知乎</a><br><a href="https://www.jianshu.com/p/c239a7eaadba" target="_blank" rel="noopener">安卓termux折腾手记：安装python库+tasker调用 - 红色番茄酱 - 简书
</a></p>
<h2 id="1-Windows"><a href="#1-Windows" class="headerlink" title="1.Windows"></a>1.Windows</h2><p>操作环境：Windows 10<br>需要python及requests库  </p>
<p>构造两个个文件，分别为  </p>
<ol>
<li>autologin.py  </li>
<li>auto-login.bat   </li>
</ol>
<p>每次运行第二个文件。可将文件二添加至计划任务，实现登录自动化。  </p>
<ol>
<li>autologin.py  </li>
</ol>
<p>这儿使用Chrome的开发者工具抓包。主要参考了<a href="https://blog.csdn.net/shenhuaifeng/article/details/78333851" target="_blank" rel="noopener">shenhuaifeng</a> 的文章。  </p>
<p><img src="/img/network.jpg" srcset="/img/loading.gif" alt=""></p>
<pre><code>python
import requests

#登录地址
post_addr=&quot;http://xxx.xxx&quot;
#构造头部信息
post_header={
 &#39;Accept&#39;: &#39;application/json, text/javascript, */*; q=0.01&#39;,
&#39;Accept-Encoding&#39;: &#39;gzip, deflate&#39;,
&#39;Accept-Language&#39;: &#39;zh-CN,zh;q=0.9&#39;,
&#39;Connection&#39;: &#39;keep-alive&#39;,
&#39;Content-Length&#39;: &#39;73&#39;,
&#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;,
&#39;Cookie&#39;: &#39;xxxxxx&#39;,
&#39;Host&#39;: &#39;xxxxxx&#39;,
&#39;Origin&#39;: &#39;http://xxxxxx&#39;,
&#39;Referer&#39;: &#39;http://xxxxxx/&#39;,
&#39;User-Agent&#39;: &#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36&#39;,
&#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;
}
#构造登录数据
post_data={ &#39;username&#39;: &#39;xxxxxx&#39;,
&#39;domain&#39;: &#39;xxxxxx&#39;,
&#39;password&#39;: &#39;xxxxxxx&#39;,
&#39;enablemacauth&#39;: &#39;0&#39;
   } 
#发送post请求登录网页
requests.post(post_addr,data=post_data,headers=post_header)</code></pre><ol start="2">
<li>auto-login.bat</li>
</ol>
<pre><code>@echo off
python autologin.py</code></pre><p>接着添加计划任务，思路是在指定WIFI连接时运行脚本。在此使用Windows任务计划程序实现。具体操作 <a href="https://www.zhihu.com/question/50249683/answer/950791896" target="_blank" rel="noopener">笨笨侠的回答</a> 讲的已经很详细了，当然下文我会重复一下。<br>如果你懒得看具体实现过程，可以直接把以下内容存成xml文件导入。  </p>
<p class="note note-warning">注意先把‘Your WiFi Network’改成对应的WIFI的ssid，把"C:\Users\xxx\Desktop\code\auto-login.bat"改成正确的脚本路径。</p>  

<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-16&quot;?&gt;
&lt;Task version=&quot;1.2&quot; xmlns=&quot;http://schemas.microsoft.com/windows/2004/02/mit/task&quot;&gt;
  &lt;RegistrationInfo&gt;
    &lt;Date&gt;2020-05-10T18:27:20.9384374&lt;/Date&gt;
    &lt;Author&gt;YIHANG\kuail&lt;/Author&gt;
    &lt;URI&gt;\校园网自动登录&lt;/URI&gt;
  &lt;/RegistrationInfo&gt;
  &lt;Triggers&gt;
    &lt;EventTrigger&gt;
      &lt;Enabled&gt;true&lt;/Enabled&gt;
      &lt;Subscription&gt;&amp;lt;QueryList&amp;gt;&amp;lt;Query Id=&quot;0&quot; Path=&quot;Microsoft-Windows-WLAN-AutoConfig/Operational&quot;&amp;gt;&amp;lt;Select Path=&quot;Microsoft-Windows-WLAN-AutoConfig/Operational&quot;&amp;gt;*[System[Provider[@Name=&#39;Microsoft-Windows-WLAN-AutoConfig&#39;] and (EventID=8001)]][EventData[Data[@Name=&#39;SSID&#39;]=&#39;Your WiFi Network&#39;]]&amp;lt;/Select&amp;gt;&amp;lt;/Query&amp;gt;&amp;lt;/QueryList&amp;gt;&lt;/Subscription&gt;
    &lt;/EventTrigger&gt;
  &lt;/Triggers&gt;
  &lt;Principals&gt;
    &lt;Principal id=&quot;Author&quot;&gt;
      &lt;UserId&gt;S-1-5-21-4166746293-2997821899-17540147-1001&lt;/UserId&gt;
      &lt;LogonType&gt;InteractiveToken&lt;/LogonType&gt;
      &lt;RunLevel&gt;LeastPrivilege&lt;/RunLevel&gt;
    &lt;/Principal&gt;
  &lt;/Principals&gt;
  &lt;Settings&gt;
    &lt;MultipleInstancesPolicy&gt;IgnoreNew&lt;/MultipleInstancesPolicy&gt;
    &lt;DisallowStartIfOnBatteries&gt;false&lt;/DisallowStartIfOnBatteries&gt;
    &lt;StopIfGoingOnBatteries&gt;true&lt;/StopIfGoingOnBatteries&gt;
    &lt;AllowHardTerminate&gt;true&lt;/AllowHardTerminate&gt;
    &lt;StartWhenAvailable&gt;false&lt;/StartWhenAvailable&gt;
    &lt;RunOnlyIfNetworkAvailable&gt;false&lt;/RunOnlyIfNetworkAvailable&gt;
    &lt;IdleSettings&gt;
      &lt;StopOnIdleEnd&gt;true&lt;/StopOnIdleEnd&gt;
      &lt;RestartOnIdle&gt;false&lt;/RestartOnIdle&gt;
    &lt;/IdleSettings&gt;
    &lt;AllowStartOnDemand&gt;true&lt;/AllowStartOnDemand&gt;
    &lt;Enabled&gt;false&lt;/Enabled&gt;
    &lt;Hidden&gt;false&lt;/Hidden&gt;
    &lt;RunOnlyIfIdle&gt;false&lt;/RunOnlyIfIdle&gt;
    &lt;WakeToRun&gt;false&lt;/WakeToRun&gt;
    &lt;ExecutionTimeLimit&gt;PT72H&lt;/ExecutionTimeLimit&gt;
    &lt;Priority&gt;7&lt;/Priority&gt;
  &lt;/Settings&gt;
  &lt;Actions Context=&quot;Author&quot;&gt;
    &lt;Exec&gt;
      &lt;Command&gt;C:\Users\xxx\Desktop\code\auto-login.bat&lt;/Command&gt;
    &lt;/Exec&gt;
  &lt;/Actions&gt;
&lt;/Task&gt;</code></pre><ol>
<li>创建一个任务，命名一个名称，如：“校园网自动登录”。接着为这个任务添加一个自定义的触发器：新建-&gt;触发器-&gt;开始任务-&gt;发生事件时-&gt;自定义-&gt;新建事件筛选器<br><img src="/img/TASK333.png" srcset="/img/loading.gif" alt=""></li>
<li>按日志 -&gt; 事件日志-(应用程序和服务日志)-Microsoft-Windows-WLAN-AutoConfig/Operational -&gt; 事件来源-WLAN-AutoConfig -&gt; 事件ID-8001 -&gt; XML<br><img src="/img/TASK222.png" srcset="/img/loading.gif" alt=""></li>
<li>勾选“手动编辑查询” -&gt; 在<code>&lt;/Select&gt;</code>前增加代码<code>[EventData[Data[@Name=&#39;SSID&#39;]=&#39;Your WiFi Network&#39;]]</code><br><img src="/img/TASKER8.jpg" srcset="/img/loading.gif" alt=""></li>
<li>确定以后，在选择触发时运行的脚本：操作-&gt;新建-&gt;启动程序-程序或脚本，填入程序路径<br><img src="/img/TASK111.png" srcset="/img/loading.gif" alt=""></li>
<li>你还可能需要在条件选项卡里面去除勾选“只有在计算机使用交流电源时才启动此任务”，以避免未接通电源时脚本停止工作。<br><img src="/img/TASK13.jpg" srcset="/img/loading.gif" alt=""></li>
</ol>
<h2 id="2-Android"><a href="#2-Android" class="headerlink" title="2.Android"></a>2.Android</h2><p>光实现电脑的校园网自动登录也许远远不够，以下是手机端（Android）实现方法。<br>操作环境：MIUI11 (Android Q)<br>需要手机软件:  </p>
<ul>
<li>Tasker （<a href="https://www.coolapk.com/apk/net.dinglisch.android.taskerm" target="_blank" rel="noopener">酷安</a>）   </li>
<li>Termux（<a href="https://f-droid.org/packages/com.termux/" target="_blank" rel="noopener">F-droid</a>）  </li>
<li>Termux:Tasker (<a href="https://f-droid.org/zh_Hans/packages/com.termux.tasker/" target="_blank" rel="noopener">F-droid</a>)  </li>
</ul>
<p>先简单介绍一下这三个软件： </p>
<blockquote>
<p>Tasker是一个让安卓系统根据用户定制的”配置文件”(Profiles)，在特定的”背景”下(Contexts)，执行指定”任务”(Tasks)的软件 （Tasker)  </p>
</blockquote>
<p class="note note-primary">哈哈哈，听上去是不是和任务计划很像？  
Tasker真可谓一大神器，可以做到很多自动化的功能（比如验证码自动粘贴/自动给指定微信好友定时发送消息/定时打卡），感兴趣可以去搜一下！ </p> 

<blockquote>
<p>Termux combines powerful terminal emulation with an extensive Linux package collection.(Termux)    </p>
</blockquote>
<p class="note note-primary">Termux是Android平台上一个强大的终端模拟器，支持 Python、 PHP、 MySQL等的安装，有一篇文章: <a href="https://www.sqlsec.com/2018/05/termux.html" target="_blank" rel="noopener">Termux 高级终端安装使用配置教程|国光</a>，有关Termux的使用写的很详细，推荐一下！</p> 

<blockquote>
<p>This plugin(Termux:Tasker)for Termux provides a way to run Termux scripts from Tasker.  </p>
</blockquote>
<p class="note note-primary">这个是配合Tasker实现Termux脚本运行自动化的插件。需要注意的是，Termux与插件必须是同一个签名，否则会安装失败。（例如，你不能把Google Play来源的Termux与F-driod来源的插件混用）</p> 思路是和Windows端的实现几乎一致的，也就是在连接到指定Wi-Fi时运行脚本。当然，Android端上就不是一定要用Python脚本来实现POST了，Tasker就有内置的HTTP-POST，你也可以用curl模拟POST请求，但是这儿我们仍然使用原脚本实现。  
构造两个个文件，分别为  
1. autologin.py  
2. auto-login.sh   

<ol>
<li>autologin.py<br>代码与上文一样。</li>
</ol>
<ol start="2">
<li>auto-login.sh</li>
</ol>
<pre><code>python  /storage/emulated/0/Download/autologin.py</code></pre><p>把两个文件都放在<code>/storage/emulated/0/Download/</code>下。  </p>
<p>接着运行Termux，执行以下操作。    </p>
<ol>
<li><p>更新安装包   </p>
<pre><code>apt update
apt upgrade</code></pre></li>
<li><p>安装python  </p>
<pre><code>pkg install python  </code></pre></li>
<li><p>安装Requests库</p>
<pre><code>pip install requests  </code></pre></li>
<li><p>在termux里创建目录(termux:task要求自动运行的脚本应当放于<code>~/.termux/tasker</code>下）</p>
<pre><code>mkdir -p .termux/tasker</code></pre></li>
<li><p>拷贝脚本到<code>~/.termux/tasker</code>目录  </p>
<pre><code>cp /storage/emulated/0/Download/auto-login.sh .termux/tasker  </code></pre><p class="note note-primary">由于Andriod10的存储规则，应用只能访问自身和公共存储区域，所以把文件放入指定目录的操作才会如此“曲折 ”。  
此外，直接运行Python脚本是会被认为成.sh文件运行的，解决方案之一是在Python脚本开头增加声明"#!/data/data/com.termux/files/usr/bin/python"，但是实测发现，运行会报文件不存在，也不知道是为什么...😓所以最终选择用两个脚本文件实现。</p>  </li>
<li><p>接着进入Tasker，在配置文件下点击右下角加号，新建“第一条件”-&gt;状态-&gt;网络-&gt;Wifi已连接，在SSID填入对应的Wlan名称。<br><img src="/img/taska111.png" srcset="/img/loading.gif" alt="">  </p>
<p class="note note-warning">注意，从 Android 6.0 开始，WiFi 的扫描结果需在 GPS 功能开启的前提下才能获取，这意味着你需要打开定位并赋予Tasker定位权限，Tasker才能正确获取到当前连接的网络名称。当然，你也可以选择不填写SSID，但是这会让Tasker连接任意网络时都运行脚本。</p>  </li>
<li><p>完成后返回，再新建一个任务，名称如“登陆校园网”，点击右下角加号添加操作-&gt;插件-&gt;Termux:Tasker-&gt;“配置”右侧的编辑按钮，进入插件的界面，填入脚本名称”auto-login.sh “<br><img src="/img/taska222.png" srcset="/img/loading.gif" alt=""></p>
</li>
<li><p>点击右上角保存按钮，返回到主界面，这时一个在一定条件下触发的操作任务就被保存了。  </p>
</li>
<li><p>最后不要忘记把Tasker的无障碍权限打开。<br><img src="/img/taska3333.jpg" srcset="/img/loading.gif" alt=""></p>
</li>
</ol>
<p class="note note-primary">终极的解决方案或许可以是：在一个可以刷第三方固件的路由器上设置一个开机脚本。</p>
            </div>
            <hr>
            <div>
              <p>
                
                  <span>
                <i class="iconfont icon-inbox"></i>
                    
                      <a class="hover-with-bg" href="/categories/IT/">IT</a>
                      &nbsp;
                    
                      <a class="hover-with-bg" href="/categories/IT/%E7%94%9F%E6%B4%BB/">生活</a>
                      &nbsp;
                    
                  </span>&nbsp;&nbsp;
                
                
                  <span>
                <i class="iconfont icon-tag"></i>
                    
                      <a class="hover-with-bg" href="/tags/APP/">APP</a>
                    
                      <a class="hover-with-bg" href="/tags/Android/">Android</a>
                    
                      <a class="hover-with-bg" href="/tags/Windows/">Windows</a>
                    
                      <a class="hover-with-bg" href="/tags/Python/">Python</a>
                    
                      <a class="hover-with-bg" href="/tags/chrome/">chrome</a>
                    
                  </span>
                
              </p>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
              
            </div>

            
              <!-- Comments -->
              <div class="comments" id="comments">
                
                
  <div class="disqus" style="width:100%">
    <div id="disqus_thread"></div>
    <script>
      var disqus_config = function () {
        this.page.url = 'http://yharea.com/421/';
        this.page.identifier = '/421/';
      };
      var oldLoad = window.onload;
      window.onload = function () {
        var d = document, s = d.createElement('script');
        s.type = 'text/javascript';
        s.src = '//' + 'yharea' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      };
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="nofollow noopener noopener">comments
        powered by Disqus.</a></noscript>
  </div>


              </div>
            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc-start"></div>
<div id="toc">
  <p class="h5"><i class="far fa-list-alt"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/popper.js/1.16.1/umd/popper.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="https://cdn.staticfile.org/mdbootstrap/4.13.0/js/mdb.min.js" ></script>
<script  src="/js/main.js" ></script>


  <script  src="/js/lazyload.js" ></script>



  
  <script  src="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var navHeight = $('#navbar').height();
      var post = $('#post');
      var toc = $('#toc');
      var tocLimMax = post.offset().top + post.height() - navHeight;

      $(window).scroll(function () {
        var tocLimMin = $('#toc-start').offset().top - navHeight;
        var scroH = document.body.scrollTop + document.documentElement.scrollTop;

        if (tocLimMin <= scroH && scroH <= tocLimMax) {
          toc.css({
            'display': 'block',
            'position': 'fixed',
            'top': navHeight,
          });
        } else if (scroH <= tocLimMin) {
          toc.css({
            'position': '',
            'top': '',
          });
        } else if (scroH > tocLimMax) {
          toc.css('display', 'none');
        }
      });
      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '.post-content',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        scrollSmooth: true,
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc > p').css('visibility', 'visible');
      }
      var offset = $('#board-ctn').css('margin-right')
      $('#toc-ctn').css({
        'right': offset
      })
    });
  </script>





  <script  src="https://cdn.staticfile.org/smoothscroll/1.4.10/SmoothScroll.min.js" ></script>






<!-- Plugins -->


  

  
    <!-- Google Analytics -->
    <script defer>
      (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
          m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
      })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-105607204-1', 'auto');
      ga('send', 'pageview');
    </script>
  

  

  

  



  <script  src="https://cdn.staticfile.org/prettify/188.0.0/prettify.min.js" ></script>
  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint  linenums');
      prettyPrint();
    })
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "校园网Python一键登录脚本与基于其基础上的校园网自动登录（Windows/Andriod)&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <script>
    $("#post img:not(.no-zoom img, img[no-zoom])").each(
      function () {
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "images");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      }
    );
  </script>












</body>
</html>
